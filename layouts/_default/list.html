{{ define "main" }}

<div class="container mx-auto px-6 py-16">
    <h1 class="mb-4">{{ .Title }}</h1>

    {{ with .Content }}
        <div class="prose dark:prose-invert mb-12 max-w-none">
            {{ . }}
        </div>
    {{ end }}

    {{ $pages := .Pages.ByDate.Reverse }}
    {{ range $pages.GroupByDate "2006" "desc" }}
        <div class="mb-12">
            <h2 class="text-2xl font-bold text-stone-900 dark:text-zinc-100 mb-4">{{ .Key }}</h2>
            <div class="space-y-4">
                {{ range .Pages }}
                    <article class="group border-b border-stone-200 dark:border-zinc-800 pb-4">
                        <a href="{{ .RelPermalink }}" class="flex items-baseline gap-4">
                            <h3 class="font-bold text-lg text-stone-900 dark:text-zinc-100 group-hover:text-stone-600 dark:group-hover:text-zinc-400 transition-colors truncate min-w-0">
                                {{ .Title }}
                            </h3>
                            {{ with .Description }}
                                <span class="hidden lg:inline text-stone-400 dark:text-zinc-600 shrink-0">&mdash;</span>
                                <p class="hidden lg:block text-stone-600 dark:text-zinc-400 group-hover:text-stone-500 dark:group-hover:text-zinc-500 transition-colors text-lg truncate min-w-0">
                                    {{ . }}
                                </p>
                            {{ end }}
                            {{ with .Date }}
                                <time class="text-base text-stone-500 dark:text-zinc-500 group-hover:text-stone-400 dark:group-hover:text-zinc-600 transition-colors shrink-0 ml-auto" datetime="{{ .Format "2006-01-02" }}">
                                    {{ .Format "January 2, 2006" }}
                                </time>
                            {{ end }}
                        </a>
                    </article>
                {{ end }}
            </div>
        </div>
    {{ end }}
</div>

{{ end }}
